{"ast":null,"code":"var _jsxFileName = \"/Users/timtaylor/Documents/expense-tracker-app/client/src/components/Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Header } from \"./Header\";\nimport { Balance } from \"./Balance\";\nimport { IncomeExpenses } from \"./IncomeExpenses\";\nimport { TransactionList } from \"./TransactionList\";\nimport { AddTransaction } from \"./AddTransaction\";\nimport { GlobalProvider } from \"../context/GlobalState\";\nimport { ProfileView } from \"./ProfileView\";\nimport axios from \"axios\";\nimport * as ReactBootStrap from \"react-bootstrap\";\nimport LinkedIn from \"../images/linkedin.png\";\nimport Github from \"../images/github.png\";\nimport Portfolio from \"../images/portfolio.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Main = () => {\n  _s();\n\n  const [loggedin, setLoggedIn] = useState(false);\n  const [incorrectRegister, setIncorrectRegister] = useState(false);\n  const [incorrectLogin, setIncorrectLogin] = useState(false);\n  const [username, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [usersData, setUsersData] = useState([]);\n  const [nameTaken, setNameTaken] = useState(false);\n  const [profile, setProfile] = useState(false);\n  useEffect(() => {\n    async function getData() {\n      await axios.get(\"https://expensetrackerbytim.herokuapp.com/expensetracker/allusers\").then(res => {\n        setUsersData(res.data);\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n\n    getData();\n  }, []);\n\n  const createUser = async e => {\n    e.preventDefault();\n\n    if (username.length > 1 && password.length > 1) {\n      const usernames = usersData.map(user => {\n        return user.username;\n      });\n      const isTaken = usernames.filter(takenUsernames => {\n        return takenUsernames === username;\n      });\n\n      if (isTaken.length > 0) {\n        setNameTaken(true);\n      } else {\n        await axios.post(\"https://expensetrackerbytim.herokuapp.com/expensetracker/user\", {\n          name: `${username}`,\n          password: `${password}`\n        }).then(res => {\n          setLoggedIn(true);\n          localStorage.setItem(\"username\", res.data.username);\n          localStorage.setItem(\"id\", res.data._id);\n        }).catch(err => {\n          console.error(err);\n        });\n      }\n    } else {\n      setIncorrectLogin(false);\n      setIncorrectRegister(true);\n    }\n  };\n\n  const logIn = async e => {\n    e.preventDefault();\n\n    if (username.length > 1 && password.length > 1) {\n      //returns array of all usernames\n      const users = usersData.map(user => {\n        return user.username;\n      }); //returns array of all passwords\n\n      const usersPasswords = usersData.map(user => {\n        return user.password;\n      });\n      const usernameIndex = users.indexOf(username);\n      const passwordIndex = usersPasswords.indexOf(password);\n\n      if (usernameIndex < 0 || passwordIndex < 0) {\n        setIncorrectRegister(false);\n        setIncorrectLogin(true);\n        return console.log(\"log in failed\");\n      }\n\n      if (usersData[usernameIndex].password === password) {\n        localStorage.setItem(\"username\", usersData[usernameIndex].username);\n        localStorage.setItem(\"password\", usersData[passwordIndex].password);\n        localStorage.setItem(\"id\", usersData[usernameIndex]._id);\n        setLoggedIn(true);\n        console.log(\"log in successful\");\n      }\n    } else {\n      setIncorrectRegister(false);\n      setIncorrectLogin(true);\n    }\n  };\n\n  const usernameUsed = nameTaken ? /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"username-taken\",\n    children: \"Username is already taken\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n  const registrationFail = incorrectRegister ? /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"too-short\",\n    children: \"Username and password must be 1 character or more\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n  const logInFail = incorrectLogin ? /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"incorrect-info\",\n    children: \"Incorrect username and password combination\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n\n  const goToProfile = () => {\n    setProfile(true);\n  };\n\n  const goToHome = () => {\n    setProfile(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loggedin ? /*#__PURE__*/_jsxDEV(GlobalProvider, {\n      children: [/*#__PURE__*/_jsxDEV(ReactBootStrap.Navbar, {\n        collapseOnSelect: true,\n        expand: \"md\",\n        variant: \"light\",\n        className: \"navbar\",\n        children: /*#__PURE__*/_jsxDEV(ReactBootStrap.Container, {\n          children: [/*#__PURE__*/_jsxDEV(ReactBootStrap.Navbar.Brand, {\n            className: \"navbar-expense\",\n            href: \"#\",\n            onClick: goToHome,\n            children: \"Expense Tracker\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ReactBootStrap.Navbar.Toggle, {\n            \"aria-controls\": \"responsive-navbar-nav\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ReactBootStrap.Navbar.Collapse, {\n            id: \"responsive-navbar-nav\",\n            children: /*#__PURE__*/_jsxDEV(ReactBootStrap.Nav, {\n              className: \"me-auto\",\n              children: [/*#__PURE__*/_jsxDEV(ReactBootStrap.Nav.Link, {\n                className: \"nav-link\",\n                onClick: goToHome,\n                href: \"#\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ReactBootStrap.Nav.Link, {\n                className: \"nav-link\",\n                onClick: goToProfile,\n                href: \"#\",\n                children: \"Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ReactBootStrap.Nav.Link, {\n                target: \"_blank\",\n                className: \"nav-link\",\n                href: \"https://github.com/TimBTaylor/expense-tracker-app\",\n                children: \"See Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ReactBootStrap.Nav.Link, {\n                target: \"_blank\",\n                className: \"nav-link\",\n                href: \"https://timbtaylor.github.io/personal-portfolio/projects.html\",\n                children: \"Portfolio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), profile ? /*#__PURE__*/_jsxDEV(ProfileView, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Balance, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(IncomeExpenses, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(AddTransaction, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TransactionList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Expense Tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-warnings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"username\",\n          onChange: e => setUserName(e.target.value),\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), usernameUsed, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"password\",\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), registrationFail, logInFail, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createUser,\n          children: \"Register Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logIn,\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"links\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          href: \"https://www.linkedin.com/in/tim-taylor-aaa970207/\",\n          className: \"linkedin-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"linkedin-image\",\n            src: LinkedIn,\n            alt: \"linkedin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), \"LinkedIn\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          href: \"https://github.com/TimBTaylor\",\n          className: \"github-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"github-image\",\n            src: Github,\n            alt: \"github\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), \"Github\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          href: \"https://timbtaylor.github.io/personal-portfolio/\",\n          className: \"portfolio-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"portfolio-image\",\n            src: Portfolio,\n            alt: \"portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), \"Portfolio\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Main, \"4YpqbCmE+ocPkIRibhr2EIQpbHg=\");\n\n_c = Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/timtaylor/Documents/expense-tracker-app/client/src/components/Main.js"],"names":["React","useState","useEffect","Header","Balance","IncomeExpenses","TransactionList","AddTransaction","GlobalProvider","ProfileView","axios","ReactBootStrap","LinkedIn","Github","Portfolio","Main","loggedin","setLoggedIn","incorrectRegister","setIncorrectRegister","incorrectLogin","setIncorrectLogin","username","setUserName","password","setPassword","usersData","setUsersData","nameTaken","setNameTaken","profile","setProfile","getData","get","then","res","data","catch","err","console","error","createUser","e","preventDefault","length","usernames","map","user","isTaken","filter","takenUsernames","post","name","localStorage","setItem","_id","logIn","users","usersPasswords","usernameIndex","indexOf","passwordIndex","log","usernameUsed","registrationFail","logInFail","goToProfile","goToHome","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Header } from \"./Header\";\nimport { Balance } from \"./Balance\";\nimport { IncomeExpenses } from \"./IncomeExpenses\";\nimport { TransactionList } from \"./TransactionList\";\nimport { AddTransaction } from \"./AddTransaction\";\nimport { GlobalProvider } from \"../context/GlobalState\";\nimport { ProfileView } from \"./ProfileView\";\nimport axios from \"axios\";\nimport * as ReactBootStrap from \"react-bootstrap\";\nimport LinkedIn from \"../images/linkedin.png\";\nimport Github from \"../images/github.png\";\nimport Portfolio from \"../images/portfolio.png\";\n\nexport const Main = () => {\n  const [loggedin, setLoggedIn] = useState(false);\n  const [incorrectRegister, setIncorrectRegister] = useState(false);\n  const [incorrectLogin, setIncorrectLogin] = useState(false);\n  const [username, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [usersData, setUsersData] = useState([]);\n  const [nameTaken, setNameTaken] = useState(false);\n  const [profile, setProfile] = useState(false);\n\n  useEffect(() => {\n    async function getData() {\n      await axios\n        .get(\n          \"https://expensetrackerbytim.herokuapp.com/expensetracker/allusers\"\n        )\n        .then((res) => {\n          setUsersData(res.data);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    getData();\n  }, []);\n\n  const createUser = async (e) => {\n    e.preventDefault();\n    if (username.length > 1 && password.length > 1) {\n      const usernames = usersData.map((user) => {\n        return user.username;\n      });\n      const isTaken = usernames.filter((takenUsernames) => {\n        return takenUsernames === username;\n      });\n\n      if (isTaken.length > 0) {\n        setNameTaken(true);\n      } else {\n        await axios\n          .post(\n            \"https://expensetrackerbytim.herokuapp.com/expensetracker/user\",\n            {\n              name: `${username}`,\n              password: `${password}`,\n            }\n          )\n          .then((res) => {\n            setLoggedIn(true);\n            localStorage.setItem(\"username\", res.data.username);\n            localStorage.setItem(\"id\", res.data._id);\n          })\n          .catch((err) => {\n            console.error(err);\n          });\n      }\n    } else {\n      setIncorrectLogin(false);\n      setIncorrectRegister(true);\n    }\n  };\n\n  const logIn = async (e) => {\n    e.preventDefault();\n\n    if (username.length > 1 && password.length > 1) {\n      //returns array of all usernames\n      const users = usersData.map((user) => {\n        return user.username;\n      });\n      //returns array of all passwords\n      const usersPasswords = usersData.map((user) => {\n        return user.password;\n      });\n      const usernameIndex = users.indexOf(username);\n      const passwordIndex = usersPasswords.indexOf(password);\n      if (usernameIndex < 0 || passwordIndex < 0) {\n        setIncorrectRegister(false);\n        setIncorrectLogin(true);\n        return console.log(\"log in failed\");\n      }\n      if (usersData[usernameIndex].password === password) {\n        localStorage.setItem(\"username\", usersData[usernameIndex].username);\n        localStorage.setItem(\"password\", usersData[passwordIndex].password);\n        localStorage.setItem(\"id\", usersData[usernameIndex]._id);\n        setLoggedIn(true);\n        console.log(\"log in successful\");\n      }\n    } else {\n      setIncorrectRegister(false);\n      setIncorrectLogin(true);\n    }\n  };\n\n  const usernameUsed = nameTaken ? (\n    <h1 className=\"username-taken\">Username is already taken</h1>\n  ) : (\n    <div></div>\n  );\n\n  const registrationFail = incorrectRegister ? (\n    <h1 className=\"too-short\">\n      Username and password must be 1 character or more\n    </h1>\n  ) : (\n    <div></div>\n  );\n\n  const logInFail = incorrectLogin ? (\n    <h1 className=\"incorrect-info\">\n      Incorrect username and password combination\n    </h1>\n  ) : (\n    <div></div>\n  );\n\n  const goToProfile = () => {\n    setProfile(true);\n  };\n\n  const goToHome = () => {\n    setProfile(false);\n  };\n\n  return (\n    <>\n      {loggedin ? (\n        <GlobalProvider>\n          <ReactBootStrap.Navbar\n            collapseOnSelect\n            expand=\"md\"\n            variant=\"light\"\n            className=\"navbar\"\n          >\n            <ReactBootStrap.Container>\n              <ReactBootStrap.Navbar.Brand\n                className=\"navbar-expense\"\n                href=\"#\"\n                onClick={goToHome}\n              >\n                Expense Tracker\n              </ReactBootStrap.Navbar.Brand>\n              <ReactBootStrap.Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n              <ReactBootStrap.Navbar.Collapse id=\"responsive-navbar-nav\">\n                <ReactBootStrap.Nav className=\"me-auto\">\n                  <ReactBootStrap.Nav.Link\n                    className=\"nav-link\"\n                    onClick={goToHome}\n                    href=\"#\"\n                  >\n                    Home\n                  </ReactBootStrap.Nav.Link>\n                  <ReactBootStrap.Nav.Link\n                    className=\"nav-link\"\n                    onClick={goToProfile}\n                    href=\"#\"\n                  >\n                    Profile\n                  </ReactBootStrap.Nav.Link>\n                  <ReactBootStrap.Nav.Link\n                    target=\"_blank\"\n                    className=\"nav-link\"\n                    href=\"https://github.com/TimBTaylor/expense-tracker-app\"\n                  >\n                    See Code\n                  </ReactBootStrap.Nav.Link>\n                  <ReactBootStrap.Nav.Link\n                    target=\"_blank\"\n                    className=\"nav-link\"\n                    href=\"https://timbtaylor.github.io/personal-portfolio/projects.html\"\n                  >\n                    Portfolio\n                  </ReactBootStrap.Nav.Link>\n                </ReactBootStrap.Nav>\n              </ReactBootStrap.Navbar.Collapse>\n            </ReactBootStrap.Container>\n          </ReactBootStrap.Navbar>\n          {profile ? (\n            <ProfileView />\n          ) : (\n            <div className=\"container\">\n              <Header />\n              <Balance />\n              <IncomeExpenses />\n              <AddTransaction />\n              <TransactionList />\n            </div>\n          )}\n        </GlobalProvider>\n      ) : (\n        <div className=\"login\">\n          <div className=\"welcome\">\n            <h1>Expense Tracker</h1>\n          </div>\n          <div className=\"login-warnings\"></div>\n          <div className=\"login-inputs\">\n            <input\n              className=\"username\"\n              onChange={(e) => setUserName(e.target.value)}\n              placeholder=\"Username\"\n            />\n            {usernameUsed}\n            <br />\n            <input\n              type=\"password\"\n              className=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Password\"\n            />\n            {registrationFail}\n            {logInFail}\n            <br />\n            <button onClick={createUser}>Register Account</button>\n            <button onClick={logIn}>Log in</button>\n          </div>\n          <div className=\"links\">\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://www.linkedin.com/in/tim-taylor-aaa970207/\"\n              className=\"linkedin-link\"\n            >\n              <img className=\"linkedin-image\" src={LinkedIn} alt=\"linkedin\" />\n              <br />\n              LinkedIn\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://github.com/TimBTaylor\"\n              className=\"github-link\"\n            >\n              <img className=\"github-image\" src={Github} alt=\"github\" />\n              <br />\n              Github\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://timbtaylor.github.io/personal-portfolio/\"\n              className=\"portfolio-link\"\n            >\n              <img\n                className=\"portfolio-image\"\n                src={Portfolio}\n                alt=\"portfolio\"\n              />\n              <br />\n              Portfolio\n            </a>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}