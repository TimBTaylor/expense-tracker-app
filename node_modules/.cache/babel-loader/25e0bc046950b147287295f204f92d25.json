{"ast":null,"code":"import _regeneratorRuntime from\"/Users/timtaylor/Documents/expense-tracker-app-main/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/timtaylor/Documents/expense-tracker-app-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/timtaylor/Documents/expense-tracker-app-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Header}from\"./Header\";import{Balance}from\"./Balance\";import{IncomeExpenses}from\"./IncomeExpenses\";import{TransactionList}from\"./TransactionList\";import{AddTransaction}from\"./AddTransaction\";import{GlobalProvider}from\"../context/GlobalState\";import{ProfileView}from\"./ProfileView\";import axios from\"axios\";import*as ReactBootStrap from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Main=function Main(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggedin=_useState2[0],setLoggedIn=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),incorrectRegister=_useState4[0],setIncorrectRegister=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),incorrectLogin=_useState6[0],setIncorrectLogin=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUserName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),usersData=_useState12[0],setUsersData=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),nameTaken=_useState14[0],setNameTaken=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),profile=_useState16[0],setProfile=_useState16[1];useEffect(function(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://expensetrackerbytim.herokuapp.com/expensetracker/allusers\").then(function(res){setUsersData(res.data);}).catch(function(err){console.error(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}getData();},[]);var createUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var usernames,isTaken;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(username.length>1&&password.length>1)){_context2.next=12;break;}usernames=usersData.map(function(user){return user.username;});isTaken=usernames.filter(function(takenUsernames){return takenUsernames===username;});if(!(isTaken.length>0)){_context2.next=8;break;}setNameTaken(true);_context2.next=10;break;case 8:_context2.next=10;return axios.post(\"https://expensetrackerbytim.herokuapp.com/expensetracker/user\",{name:\"\".concat(username),password:\"\".concat(password)}).then(function(res){console.log(res);setLoggedIn(true);localStorage.setItem(\"username\",res.data.username);localStorage.setItem(\"id\",res.data._id);}).catch(function(err){console.error(err);});case 10:_context2.next=14;break;case 12:setIncorrectLogin(false);setIncorrectRegister(true);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function createUser(_x){return _ref.apply(this,arguments);};}();var logIn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var users,usersPasswords,usernameIndex,passwordIndex;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();if(!(username.length>1&&password.length>1)){_context3.next=16;break;}//returns array of all usernames\nusers=usersData.map(function(user){return user.username;});//returns array of all passwords\nusersPasswords=usersData.map(function(user){return user.password;});usernameIndex=users.indexOf(username);passwordIndex=usersPasswords.indexOf(password);if(!(usernameIndex!==passwordIndex||usernameIndex<0||passwordIndex<0)){_context3.next=10;break;}setIncorrectRegister(false);setIncorrectLogin(true);return _context3.abrupt(\"return\",console.log(\"log in failed\"));case 10:if(usernameIndex===passwordIndex){setLoggedIn(true);console.log(\"log in successful\");}localStorage.setItem(\"username\",usersData[usernameIndex].username);localStorage.setItem(\"password\",usersData[passwordIndex].password);localStorage.setItem(\"id\",usersData[usernameIndex]._id);_context3.next=18;break;case 16:setIncorrectRegister(false);setIncorrectLogin(true);case 18:case\"end\":return _context3.stop();}}},_callee3);}));return function logIn(_x2){return _ref2.apply(this,arguments);};}();var usernameUsed=nameTaken?/*#__PURE__*/_jsx(\"h1\",{className:\"username-taken\",children:\"Username is already taken\"}):/*#__PURE__*/_jsx(\"div\",{});var registrationFail=incorrectRegister?/*#__PURE__*/_jsx(\"h1\",{className:\"too-short\",children:\"Username and password must be 1 character or more\"}):/*#__PURE__*/_jsx(\"div\",{});var logInFail=incorrectLogin?/*#__PURE__*/_jsx(\"h1\",{className:\"incorrect-info\",children:\"Incorrect username and password combination\"}):/*#__PURE__*/_jsx(\"div\",{});var goToProfile=function goToProfile(){setProfile(true);};var goToHome=function goToHome(){setProfile(false);};return/*#__PURE__*/_jsx(_Fragment,{children:loggedin?/*#__PURE__*/_jsxs(GlobalProvider,{children:[/*#__PURE__*/_jsx(ReactBootStrap.Navbar,{collapseOnSelect:true,expand:\"md\",variant:\"light\",className:\"navbar\",children:/*#__PURE__*/_jsxs(ReactBootStrap.Container,{children:[/*#__PURE__*/_jsx(ReactBootStrap.Navbar.Brand,{className:\"navbar-expense\",href:\"#home\",children:\"Expense Tracker\"}),/*#__PURE__*/_jsx(ReactBootStrap.Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/_jsx(ReactBootStrap.Navbar.Collapse,{id:\"responsive-navbar-nav\",children:/*#__PURE__*/_jsxs(ReactBootStrap.Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(ReactBootStrap.Nav.Link,{className:\"nav-link\",onClick:goToHome,href:\"#\",children:\"Home\"}),/*#__PURE__*/_jsx(ReactBootStrap.Nav.Link,{className:\"nav-link\",onClick:goToProfile,href:\"#\",children:\"Profile\"}),/*#__PURE__*/_jsx(ReactBootStrap.Nav.Link,{target:\"_blank\",className:\"nav-link\",href:\"https://github.com/TimBTaylor/expense-tracker-app\",children:\"See Code\"}),/*#__PURE__*/_jsx(ReactBootStrap.Nav.Link,{target:\"_blank\",className:\"nav-link\",href:\"https://timbtaylor.github.io/personal-portfolio/projects.html\",children:\"Portfolio\"})]})})]})}),profile?/*#__PURE__*/_jsx(ProfileView,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Balance,{}),/*#__PURE__*/_jsx(IncomeExpenses,{}),/*#__PURE__*/_jsx(AddTransaction,{}),/*#__PURE__*/_jsx(TransactionList,{})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Expense Tracker by Tim\"})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"portfolio-code\",children:[\"You can visit my portfolio\",\" \",/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://timbtaylor.github.io/personal-portfolio/\",children:\"here\"})}),/*#__PURE__*/_jsx(\"br\",{}),\"as well as the code for this project\",\" \",/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/TimBTaylor/expense-tracker-app\",children:\"here\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-warnings\",children:[usernameUsed,registrationFail,logInFail]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-inputs\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"username\",onChange:function onChange(e){return setUserName(e.target.value);},placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:createUser,children:\"Register\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:logIn,children:\"Log in\"})]})]})});};","map":{"version":3,"sources":["/Users/timtaylor/Documents/expense-tracker-app-main/client/src/components/Main.js"],"names":["React","useState","useEffect","Header","Balance","IncomeExpenses","TransactionList","AddTransaction","GlobalProvider","ProfileView","axios","ReactBootStrap","Main","loggedin","setLoggedIn","incorrectRegister","setIncorrectRegister","incorrectLogin","setIncorrectLogin","username","setUserName","password","setPassword","usersData","setUsersData","nameTaken","setNameTaken","profile","setProfile","getData","get","then","res","data","catch","err","console","error","createUser","e","preventDefault","length","usernames","map","user","isTaken","filter","takenUsernames","post","name","log","localStorage","setItem","_id","logIn","users","usersPasswords","usernameIndex","indexOf","passwordIndex","usernameUsed","registrationFail","logInFail","goToProfile","goToHome","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Header } from \"./Header\";\nimport { Balance } from \"./Balance\";\nimport { IncomeExpenses } from \"./IncomeExpenses\";\nimport { TransactionList } from \"./TransactionList\";\nimport { AddTransaction } from \"./AddTransaction\";\nimport { GlobalProvider } from \"../context/GlobalState\";\nimport { ProfileView } from \"./ProfileView\";\nimport axios from \"axios\";\nimport * as ReactBootStrap from \"react-bootstrap\";\n\nexport const Main = () => {\n  const [loggedin, setLoggedIn] = useState(false);\n  const [incorrectRegister, setIncorrectRegister] = useState(false);\n  const [incorrectLogin, setIncorrectLogin] = useState(false);\n  const [username, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [usersData, setUsersData] = useState([]);\n  const [nameTaken, setNameTaken] = useState(false);\n  const [profile, setProfile] = useState(false);\n\n  useEffect(() => {\n    async function getData() {\n      await axios\n        .get(\n          \"https://expensetrackerbytim.herokuapp.com/expensetracker/allusers\"\n        )\n        .then((res) => {\n          setUsersData(res.data);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    getData();\n  }, []);\n\n  const createUser = async (e) => {\n    e.preventDefault();\n    if (username.length > 1 && password.length > 1) {\n      const usernames = usersData.map((user) => {\n        return user.username;\n      });\n      const isTaken = usernames.filter((takenUsernames) => {\n        return takenUsernames === username;\n      });\n\n      if (isTaken.length > 0) {\n        setNameTaken(true);\n      } else {\n        await axios\n          .post(\n            \"https://expensetrackerbytim.herokuapp.com/expensetracker/user\",\n            {\n              name: `${username}`,\n              password: `${password}`,\n            }\n          )\n          .then((res) => {\n            console.log(res);\n            setLoggedIn(true);\n            localStorage.setItem(\"username\", res.data.username);\n            localStorage.setItem(\"id\", res.data._id);\n          })\n          .catch((err) => {\n            console.error(err);\n          });\n      }\n    } else {\n      setIncorrectLogin(false);\n      setIncorrectRegister(true);\n    }\n  };\n\n  const logIn = async (e) => {\n    e.preventDefault();\n\n    if (username.length > 1 && password.length > 1) {\n      //returns array of all usernames\n      const users = usersData.map((user) => {\n        return user.username;\n      });\n      //returns array of all passwords\n      const usersPasswords = usersData.map((user) => {\n        return user.password;\n      });\n      const usernameIndex = users.indexOf(username);\n      const passwordIndex = usersPasswords.indexOf(password);\n      if (\n        usernameIndex !== passwordIndex ||\n        usernameIndex < 0 ||\n        passwordIndex < 0\n      ) {\n        setIncorrectRegister(false);\n        setIncorrectLogin(true);\n        return console.log(\"log in failed\");\n      }\n      if (usernameIndex === passwordIndex) {\n        setLoggedIn(true);\n        console.log(\"log in successful\");\n      }\n      localStorage.setItem(\"username\", usersData[usernameIndex].username);\n      localStorage.setItem(\"password\", usersData[passwordIndex].password);\n      localStorage.setItem(\"id\", usersData[usernameIndex]._id);\n    } else {\n      setIncorrectRegister(false);\n      setIncorrectLogin(true);\n    }\n  };\n\n  const usernameUsed = nameTaken ? (\n    <h1 className=\"username-taken\">Username is already taken</h1>\n  ) : (\n    <div></div>\n  );\n\n  const registrationFail = incorrectRegister ? (\n    <h1 className=\"too-short\">\n      Username and password must be 1 character or more\n    </h1>\n  ) : (\n    <div></div>\n  );\n\n  const logInFail = incorrectLogin ? (\n    <h1 className=\"incorrect-info\">\n      Incorrect username and password combination\n    </h1>\n  ) : (\n    <div></div>\n  );\n\n  const goToProfile = () => {\n    setProfile(true);\n  };\n\n  const goToHome = () => {\n    setProfile(false);\n  };\n\n  return (\n    <>\n      {loggedin ? (\n        <GlobalProvider>\n          <ReactBootStrap.Navbar\n            collapseOnSelect\n            expand=\"md\"\n            variant=\"light\"\n            className=\"navbar\"\n          >\n            <ReactBootStrap.Container>\n              <ReactBootStrap.Navbar.Brand\n                className=\"navbar-expense\"\n                href=\"#home\"\n              >\n                Expense Tracker\n              </ReactBootStrap.Navbar.Brand>\n              <ReactBootStrap.Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n              <ReactBootStrap.Navbar.Collapse id=\"responsive-navbar-nav\">\n                <ReactBootStrap.Nav className=\"me-auto\">\n                  <ReactBootStrap.Nav.Link\n                    className=\"nav-link\"\n                    onClick={goToHome}\n                    href=\"#\"\n                  >\n                    Home\n                  </ReactBootStrap.Nav.Link>\n                  <ReactBootStrap.Nav.Link\n                    className=\"nav-link\"\n                    onClick={goToProfile}\n                    href=\"#\"\n                  >\n                    Profile\n                  </ReactBootStrap.Nav.Link>\n                  <ReactBootStrap.Nav.Link\n                    target=\"_blank\"\n                    className=\"nav-link\"\n                    href=\"https://github.com/TimBTaylor/expense-tracker-app\"\n                  >\n                    See Code\n                  </ReactBootStrap.Nav.Link>\n                  <ReactBootStrap.Nav.Link\n                    target=\"_blank\"\n                    className=\"nav-link\"\n                    href=\"https://timbtaylor.github.io/personal-portfolio/projects.html\"\n                  >\n                    Portfolio\n                  </ReactBootStrap.Nav.Link>\n                </ReactBootStrap.Nav>\n              </ReactBootStrap.Navbar.Collapse>\n            </ReactBootStrap.Container>\n          </ReactBootStrap.Navbar>\n          {profile ? (\n            <ProfileView />\n          ) : (\n            <div className=\"container\">\n              <Header />\n              <Balance />\n              <IncomeExpenses />\n              <AddTransaction />\n              <TransactionList />\n            </div>\n          )}\n        </GlobalProvider>\n      ) : (\n        <div className=\"login\">\n          <div className=\"welcome\">\n            <h1>Welcome to Expense Tracker by Tim</h1>\n          </div>\n          <h2 className=\"portfolio-code\">\n            You can visit my portfolio{\" \"}\n            <span>\n              <a href=\"https://timbtaylor.github.io/personal-portfolio/\">\n                here\n              </a>\n            </span>\n            <br />\n            as well as the code for this project{\" \"}\n            <span>\n              <a href=\"https://github.com/TimBTaylor/expense-tracker-app\">\n                here\n              </a>\n            </span>\n          </h2>\n          <div className=\"login-warnings\">\n            {usernameUsed}\n            {registrationFail}\n            {logInFail}\n          </div>\n          <div className=\"login-inputs\">\n            <input\n              className=\"username\"\n              onChange={(e) => setUserName(e.target.value)}\n              placeholder=\"Username\"\n            />\n            <br />\n            <input\n              type=\"password\"\n              className=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Password\"\n            />\n            <br />\n            <button onClick={createUser}>Register</button>\n            <br />\n            <button onClick={logIn}>Log in</button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}