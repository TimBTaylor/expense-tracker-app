{"ast":null,"code":"import _slicedToArray from\"/Users/timtaylor/Documents/expense-tracker-app-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{GlobalContext}from\"../context/GlobalState\";import{Transaction}from\"./Transaction\";import Select from\"react-select\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var TransactionList=function TransactionList(){var _useContext=useContext(GlobalContext),transactions=_useContext.transactions,getTransactions=_useContext.getTransactions;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),month=_useState4[0],setMonth=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),selectedValue=_useState6[0],setSelectedValue=_useState6[1];var listLength=transactions.length;useEffect(function(){var id=localStorage.getItem(\"id\");getTransactions(id);// eslint-disable-next-line\n},[]);var months=[{value:\"01\",label:\"January\"},{value:\"02\",label:\"February\"},{value:\"03\",label:\"March\"},{value:\"04\",label:\"April\"},{value:\"05\",label:\"May\"},{value:\"06\",label:\"June\"},{value:\"07\",label:\"July\"},{value:\"08\",label:\"August\"},{value:\"09\",label:\"September\"},{value:\"10\",label:\"October\"},{value:\"11\",label:\"November\"},{value:\"12\",label:\"December\"}];return/*#__PURE__*/_jsx(_Fragment,{children:listLength>=6?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Transactions\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by transaction\",onChange:function onChange(e){setSearch(e.target.value);}}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(obj){setSelectedValue(obj);setMonth(obj.value);},value:selectedValue,options:months,placeholder:\"Search by month\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"more\",children:transactions.filter(function(transaction){if(search===\"\"){return transaction;}else if(transaction.transactionType.toLowerCase().includes(search.toLowerCase())){return transaction;}}).filter(function(transaction){if(month===\"\"){return transaction;}else if(transaction.date.substring(0,2)===month){return transaction;}}).slice(0).reverse().map(function(transaction){return/*#__PURE__*/_jsx(Transaction,{transaction:transaction},transaction.id);})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Transactions\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by transaction\",onChange:function onChange(e){setSearch(e.target.value);}}),/*#__PURE__*/_jsx(Select,{onChange:function onChange(obj){setSelectedValue(obj);setMonth(obj.value);},value:selectedValue,options:months,placeholder:\"Search by month\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"less\",children:transactions.filter(function(transaction){if(search===\"\"){return transaction;}else if(transaction.transactionType.toLowerCase().includes(search.toLowerCase())){return transaction;}}).filter(function(transaction){if(month===\"\"){return transaction;}else if(transaction.date.substring(0,2)===month){return transaction;}}).slice(0).reverse().map(function(transaction){return/*#__PURE__*/_jsx(Transaction,{transaction:transaction},transaction.id);})})]})});};","map":{"version":3,"sources":["/Users/timtaylor/Documents/expense-tracker-app-main/client/src/components/TransactionList.js"],"names":["React","useContext","useEffect","useState","GlobalContext","Transaction","Select","TransactionList","transactions","getTransactions","search","setSearch","month","setMonth","selectedValue","setSelectedValue","listLength","length","id","localStorage","getItem","months","value","label","e","target","obj","filter","transaction","transactionType","toLowerCase","includes","date","substring","slice","reverse","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\nimport { Transaction } from \"./Transaction\";\nimport Select from \"react-select\";\n\nexport const TransactionList = () => {\n  const { transactions, getTransactions } = useContext(GlobalContext);\n  const [search, setSearch] = useState(\"\");\n  const [month, setMonth] = useState(\"\");\n  const [selectedValue, setSelectedValue] = useState(\"\");\n  const listLength = transactions.length;\n\n  useEffect(() => {\n    const id = localStorage.getItem(\"id\");\n    getTransactions(id);\n    // eslint-disable-next-line\n  }, []);\n\n  const months = [\n    {\n      value: \"01\",\n      label: \"January\",\n    },\n    {\n      value: \"02\",\n      label: \"February\",\n    },\n    {\n      value: \"03\",\n      label: \"March\",\n    },\n    {\n      value: \"04\",\n      label: \"April\",\n    },\n    {\n      value: \"05\",\n      label: \"May\",\n    },\n    {\n      value: \"06\",\n      label: \"June\",\n    },\n    {\n      value: \"07\",\n      label: \"July\",\n    },\n    {\n      value: \"08\",\n      label: \"August\",\n    },\n    {\n      value: \"09\",\n      label: \"September\",\n    },\n    {\n      value: \"10\",\n      label: \"October\",\n    },\n    {\n      value: \"11\",\n      label: \"November\",\n    },\n    {\n      value: \"12\",\n      label: \"December\",\n    },\n  ];\n\n  return (\n    <>\n      {listLength >= 6 ? (\n        <div>\n          <h3>Transactions</h3>\n          <input\n            type=\"text\"\n            placeholder=\"Search by transaction\"\n            onChange={(e) => {\n              setSearch(e.target.value);\n            }}\n          />\n          <Select\n            onChange={(obj) => {\n              setSelectedValue(obj);\n              setMonth(obj.value);\n            }}\n            value={selectedValue}\n            options={months}\n            placeholder=\"Search by month\"\n          />\n          <ul className=\"more\">\n            {transactions\n              .filter((transaction) => {\n                if (search === \"\") {\n                  return transaction;\n                } else if (\n                  transaction.transactionType\n                    .toLowerCase()\n                    .includes(search.toLowerCase())\n                ) {\n                  return transaction;\n                }\n              })\n              .filter((transaction) => {\n                if (month === \"\") {\n                  return transaction;\n                } else if (transaction.date.substring(0, 2) === month) {\n                  return transaction;\n                }\n              })\n              .slice(0)\n              .reverse()\n              .map((transaction) => (\n                <Transaction key={transaction.id} transaction={transaction} />\n              ))}\n          </ul>\n        </div>\n      ) : (\n        <div>\n          <h3>Transactions</h3>\n          <input\n            type=\"text\"\n            placeholder=\"Search by transaction\"\n            onChange={(e) => {\n              setSearch(e.target.value);\n            }}\n          />\n          <Select\n            onChange={(obj) => {\n              setSelectedValue(obj);\n              setMonth(obj.value);\n            }}\n            value={selectedValue}\n            options={months}\n            placeholder=\"Search by month\"\n          />\n          <ul className=\"less\">\n            {transactions\n              .filter((transaction) => {\n                if (search === \"\") {\n                  return transaction;\n                } else if (\n                  transaction.transactionType\n                    .toLowerCase()\n                    .includes(search.toLowerCase())\n                ) {\n                  return transaction;\n                }\n              })\n              .filter((transaction) => {\n                if (month === \"\") {\n                  return transaction;\n                } else if (transaction.date.substring(0, 2) === month) {\n                  return transaction;\n                }\n              })\n              .slice(0)\n              .reverse()\n              .map((transaction) => (\n                <Transaction key={transaction.id} transaction={transaction} />\n              ))}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}