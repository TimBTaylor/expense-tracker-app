(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{106:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(19),s=n.n(r),o=(n(105),n(106),n(13)),i=n.n(o),l=n(23),u=n(11),d=n(1),j=function(){var e=localStorage.getItem("username");return Object(d.jsx)("div",{children:Object(d.jsxs)("h2",{children:[e,"'s Expense Tracker"]})})},b=n(12),h=n(14),p=function(e,t){switch(t.type){case f.GET_TRANSACTION:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,transactions:t.payload});case f.DELETE_TRANSACTION:return Object(h.a)(Object(h.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case f.ADD_TRANSACTION:return Object(h.a)(Object(h.a)({},e),{},{transactions:[].concat(Object(b.a)(e.transactions),[t.payload])});case f.ERROR_TRANSACTION:return Object(h.a)(Object(h.a)({},e),{},{error:t.payload});default:return e}},O=n(27),m=n.n(O),x={transactions:[],error:null,loading:!0},f={DELETE_TRANSACTION:"delete_transaction",ADD_TRANSACTION:"add_transaction",GET_TRANSACTION:"get_transaction",ERROR_TRANSACTION:"error_transaction"},v=Object(a.createContext)(x),g=function(e){var t=e.children,n=Object(a.useReducer)(p,x),c=Object(u.a)(n,2),r=c[0],s=c[1];function o(){return(o=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://expensetrackerbytim.herokuapp.com/expensetracker/".concat(t));case 3:n=e.sent,s({type:f.GET_TRANSACTION,payload:n.data.transaction}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:f.ERROR_TRANSACTION,payload:e.t0.res});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(){return(j=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("id"),a=t.id,e.prev=2,e.next=5,m.a.delete("https://expensetrackerbytim.herokuapp.com/expensetracker/deletetransaction/".concat(n),{headers:{"Content-Type":"application/json"},data:{transaction:{id:t.id,transactionAmount:"".concat(t.transactionAmount),transactionType:"".concat(t.transactionType),date:"".concat(t.date),source:"".concat(t.source)}}}).then((function(e){console.log(e)})).catch((function(e){console.err(e)}));case 5:s({type:f.DELETE_TRANSACTION,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),s({type:f.ERROR_TRANSACTION,payload:e.t0.res});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function b(){return(b=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("id"),e.prev=1,e.next=4,m.a.post("https://expensetrackerbytim.herokuapp.com/expensetracker/addtransaction/".concat(n),{transaction:{id:t.id,transactionAmount:t.transactionAmount,transactionType:t.transactionType,date:t.date,source:t.source}},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 4:s({type:f.ADD_TRANSACTION,payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s({type:f.ERROR_TRANSACTION,payload:e.t0.res});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(d.jsx)(v.Provider,{value:{transactions:r.transactions,deleteTransaction:function(e){return j.apply(this,arguments)},addTransaction:function(e){return b.apply(this,arguments)},getTransactions:function(e){return o.apply(this,arguments)},error:r.error,loading:r.loading},children:t})};function y(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var N=function(){var e=Object(a.useContext)(v).transactions.map((function(e){return JSON.parse(e.transactionAmount)})).reduce((function(e,t){return e+t}),0).toFixed(2);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h4",{children:"Your balance"}),Object(d.jsxs)("h1",{children:["$",y(e)]})]})},T=function(){var e=Object(a.useContext)(v).transactions.map((function(e){return JSON.parse(e.transactionAmount)})),t=e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0).toFixed(2),n=t.substring(1),c=t<0?n:t,r=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2);return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"inc-exp-container",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{children:"Income"}),Object(d.jsxs)("p",{className:"money plus",children:["+$",y(r)]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{children:"Expense"}),Object(d.jsxs)("p",{className:"money minus",children:["-$",y(c)]})]})]})})},k=function(e){var t=e.transaction,n=Object(a.useContext)(v).deleteTransaction,c=t.transactionAmount<0?"-":"+",r={id:t.id,transactionAmount:"".concat(t.transactionAmount),transactionType:"".concat(t.transactionType),date:"".concat(t.date),source:"".concat(t.source)},s=y(Math.abs(t.transactionAmount));return Object(d.jsxs)("li",{className:t.transactionAmount<0?"minus":"plus",children:[Object(d.jsxs)("span",{children:[c,"$",s]}),Object(d.jsx)("span",{children:t.transactionType}),Object(d.jsx)("span",{children:t.date}),Object(d.jsx)("button",{onClick:function(){return n(r)},className:"delete-btn",children:"x"})]},t.id)},S=n(64),A=function(){var e=Object(a.useContext)(v),t=e.transactions,n=e.getTransactions,c=Object(a.useState)(""),r=Object(u.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(""),l=Object(u.a)(i,2),j=l[0],b=l[1],h=Object(a.useState)(""),p=Object(u.a)(h,2),O=p[0],m=p[1],x=t.length;Object(a.useEffect)((function(){var e=localStorage.getItem("id");n(e)}),[]);var f=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}];return Object(d.jsx)(d.Fragment,{children:x>=6?Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Transactions"}),Object(d.jsx)("input",{type:"text",placeholder:"Search by transaction",onChange:function(e){o(e.target.value)}}),Object(d.jsx)(S.a,{onChange:function(e){m(e),b(e.value)},value:O,options:f,placeholder:"Search by month"}),Object(d.jsx)("ul",{className:"more",children:t.filter((function(e){return""===s||e.transactionType.toLowerCase().includes(s.toLowerCase())?e:void 0})).filter((function(e){return""===j||e.date.substring(0,2)===j?e:void 0})).slice(0).reverse().map((function(e){return Object(d.jsx)(k,{transaction:e},e.id)}))})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Transactions"}),Object(d.jsx)("input",{type:"text",placeholder:"Search by transaction",onChange:function(e){o(e.target.value)}}),Object(d.jsx)(S.a,{onChange:function(e){m(e),b(e.value)},value:O,options:f,placeholder:"Search by month"}),Object(d.jsx)("ul",{className:"less",children:t.filter((function(e){return""===s||e.transactionType.toLowerCase().includes(s.toLowerCase())?e:void 0})).filter((function(e){return""===j||e.date.substring(0,2)===j?e:void 0})).slice(0).reverse().map((function(e){return Object(d.jsx)(k,{transaction:e},e.id)}))})]})})},C=function(){var e=Object(a.useContext)(v).addTransaction,t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),i=o[0],l=o[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),h=b[0],p=b[1],O=document.querySelector(".income"),m=document.querySelector(".expense");return Object(d.jsxs)("div",{className:"add-transaction",children:[Object(d.jsx)("h3",{children:"Add new transaction"}),Object(d.jsx)("h4",{className:"missing-source hidden",children:"Must choose expense or income"}),Object(d.jsx)("h4",{className:"missing-type hidden",children:"Must enter a transaction type"}),Object(d.jsx)("h4",{className:"incorrect-amount hidden",children:"Amount must only container numbers and or a decimal"}),Object(d.jsx)("h4",{className:"missing-amount hidden",children:"Must enter an amount"}),Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsx)("label",{htmlFor:"text",children:"Transaction Type"}),Object(d.jsx)("input",{value:c,onChange:function(e){r(e.target.value)},type:"text",id:"text",placeholder:"Enter text..."})]}),Object(d.jsxs)("div",{className:"form-control",children:[Object(d.jsxs)("label",{value:i,htmlFor:"amount",children:["Amount ",Object(d.jsx)("br",{})]}),Object(d.jsx)("button",{className:"expense",onClick:function(){p("expense"),O.classList.remove("selectedIncome"),m.classList.add("selectedExpense")},children:"Expense"}),Object(d.jsx)("button",{className:"income",onClick:function(){p("income"),m.classList.remove("selectedExpense"),O.classList.add("selectedIncome")},children:"Income"}),Object(d.jsx)("input",{type:"float",id:"amount",placeholder:"Enter amount...",onChange:function(e){l(e.target.value)}})]}),Object(d.jsx)("button",{onClick:function(t){var n=document.querySelector(".incorrect-amount"),a=document.querySelector(".missing-amount"),r=document.querySelector(".missing-type"),s=document.querySelector(".missing-source");r.classList.add("hidden"),a.classList.add("hidden"),s.classList.add("hidden"),n.classList.add("hidden"),t.preventDefault();var o=new Date;function l(e){var t=e.getFullYear();return(1+e.getMonth()).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")+"/"+t}if(""===c)return r.classList.remove("hidden");if(""===i)return a.classList.remove("hidden");if(null!=i.match(/[a-zA-Z]/g))return n.classList.remove("hidden");if(""===h)return s.classList.remove("hidden");if("expense"===h){var u="-".concat(i),d={id:Math.floor(1e9*Math.random()),transactionType:c,transactionAmount:u,date:l(o),source:h};c.length>=1&&i.length>=1&&(e(d),r.classList.add("hidden"),a.classList.add("hidden"),s.classList.add("hidden"),n.classList.add("hidden"))}else{var j={id:Math.floor(1e9*Math.random()),transactionType:c,transactionAmount:i,date:l(o),source:h};h.length>1&&c.length>=1&&i.length>=1&&(e(j),r.classList.add("hidden"),a.classList.add("hidden"),s.classList.add("hidden"),n.classList.add("hidden"))}},className:"btn",children:"Add transaction"})]})},w=n(99),I=function(){var e=Object(a.useContext)(v).transactions,t={labels:e.map((function(e){return e.transactionType})),datasets:[{label:"Rainfall",backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4"],hoverBackgroundColor:["#501800","#4B5000","#175000","#003350","#35014F"],data:e.map((function(e){return JSON.parse(Math.abs(e.transactionAmount))}))}]};return Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{data:t,options:{title:{display:!0,text:"Transactions",fontSize:20},legend:{display:!0,position:"right"}}})})},L=n(254),R=n(255),E=n(256),_=function(){var e=Object(a.useContext)(v).transactions,t=localStorage.getItem("username"),n=localStorage.getItem("password");return Object(d.jsxs)(L.a,{children:[Object(d.jsxs)(R.a,{children:[Object(d.jsx)(E.a,{children:Object(d.jsxs)("div",{className:"profile-header",children:[Object(d.jsx)("h1",{className:"account-info",children:"Account Information"}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("h3",{className:"username-header",children:"Username"}),Object(d.jsx)("br",{}),Object(d.jsx)("h4",{className:"username",children:t}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("h3",{className:"password-header",children:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("h4",{className:"password",children:n})]})]})}),Object(d.jsx)(E.a,{children:e.length>0?Object(d.jsx)(I,{}):Object(d.jsx)("div",{})})]}),Object(d.jsx)(A,{})]})},D=n(257),F=n(258),M=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),o=s[0],b=s[1],h=Object(a.useState)(!1),p=Object(u.a)(h,2),O=p[0],x=p[1],f=Object(a.useState)(""),v=Object(u.a)(f,2),y=v[0],k=v[1],S=Object(a.useState)(""),w=Object(u.a)(S,2),I=w[0],R=w[1],E=Object(a.useState)([]),M=Object(u.a)(E,2),B=M[0],J=M[1],q=Object(a.useState)(!1),P=Object(u.a)(q,2),U=P[0],$=P[1],G=Object(a.useState)(!1),Y=Object(u.a)(G,2),z=Y[0],H=Y[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://expensetrackerbytim.herokuapp.com/expensetracker/allusers").then((function(e){J(e.data)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var W=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(y.length>1&&I.length>1)){e.next=12;break}if(n=B.map((function(e){return e.username})),!(n.filter((function(e){return e===y})).length>0)){e.next=8;break}$(!0),e.next=10;break;case 8:return e.next=10,m.a.post("https://expensetrackerbytim.herokuapp.com/expensetracker/user",{name:"".concat(y),password:"".concat(I)}).then((function(e){console.log(e),c(!0),localStorage.setItem("username",e.data.username),localStorage.setItem("id",e.data._id)})).catch((function(e){console.error(e)}));case 10:e.next=14;break;case 12:x(!1),b(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(y.length>1&&I.length>1)){e.next=16;break}if(n=B.map((function(e){return e.username})),a=B.map((function(e){return e.password})),r=n.indexOf(y),s=a.indexOf(I),!(r!==s||r<0||s<0)){e.next=10;break}return b(!1),x(!0),e.abrupt("return",console.log("log in failed"));case 10:r===s&&(c(!0),console.log("log in successful")),localStorage.setItem("username",B[r].username),localStorage.setItem("password",B[s].password),localStorage.setItem("id",B[r]._id),e.next=18;break;case 16:b(!1),x(!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=U?Object(d.jsx)("h1",{className:"username-taken",children:"Username is already taken"}):Object(d.jsx)("div",{}),Q=o?Object(d.jsx)("h1",{className:"too-short",children:"Username and password must be 1 character or more"}):Object(d.jsx)("div",{}),V=O?Object(d.jsx)("h1",{className:"incorrect-info",children:"Incorrect username and password combination"}):Object(d.jsx)("div",{});return Object(d.jsx)(d.Fragment,{children:n?Object(d.jsxs)(g,{children:[Object(d.jsx)(D.a,{collapseOnSelect:!0,expand:"md",variant:"light",className:"navbar",children:Object(d.jsxs)(L.a,{children:[Object(d.jsx)(D.a.Brand,{className:"navbar-expense",href:"#home",children:"Expense Tracker"}),Object(d.jsx)(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(d.jsx)(D.a.Collapse,{id:"responsive-navbar-nav",children:Object(d.jsxs)(F.a,{className:"me-auto",children:[Object(d.jsx)(F.a.Link,{className:"nav-link",onClick:function(){H(!1)},href:"#",children:"Home"}),Object(d.jsx)(F.a.Link,{className:"nav-link",onClick:function(){H(!0)},href:"#",children:"Profile"}),Object(d.jsx)(F.a.Link,{target:"_blank",className:"nav-link",href:"https://github.com/TimBTaylor/expense-tracker-app",children:"See Code"}),Object(d.jsx)(F.a.Link,{target:"_blank",className:"nav-link",href:"https://timbtaylor.github.io/personal-portfolio/projects.html",children:"Portfolio"})]})})]})}),z?Object(d.jsx)(_,{}):Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(j,{}),Object(d.jsx)(N,{}),Object(d.jsx)(T,{}),Object(d.jsx)(C,{}),Object(d.jsx)(A,{})]})]}):Object(d.jsxs)("div",{className:"login",children:[Object(d.jsx)("div",{className:"welcome",children:Object(d.jsx)("h1",{children:"Welcome to Expense Tracker by Tim"})}),Object(d.jsxs)("h2",{className:"portfolio-code",children:["You can visit my portfolio"," ",Object(d.jsx)("span",{children:Object(d.jsx)("a",{href:"https://timbtaylor.github.io/personal-portfolio/",children:"here"})}),Object(d.jsx)("br",{}),"as well as the code for this project"," ",Object(d.jsx)("span",{children:Object(d.jsx)("a",{href:"https://github.com/TimBTaylor/expense-tracker-app",children:"here"})})]}),Object(d.jsxs)("div",{className:"login-warnings",children:[K,Q,V]}),Object(d.jsxs)("div",{className:"login-inputs",children:[Object(d.jsx)("input",{className:"username",onChange:function(e){return k(e.target.value)},placeholder:"Username"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"password",className:"password",onChange:function(e){return R(e.target.value)},placeholder:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:W,children:"Register"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:Z,children:"Log in"})]})]})})};var B=function(){return Object(d.jsx)(M,{})};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.23bdd743.chunk.js.map